{% extends 'base.html.twig' %}
{% block title %}Index des posts{% endblock %}
{% block stylesheets %}
<link href="./vendor/twbs/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet"/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
<link rel="stylesheet" href="./public/css/style.css">
{% endblock %} 
{% block content %}
    {% if session.message == "Votre commentaire a été enregistré avec succès, sa validation sera traitée dans les plus brefs délais" %}
        <div class="alert alert-success alert-dismissible fade show" role="alert" auto-close="3000">
            <span>Votre commentaire a été enregistré avec succès, sa validation sera traitée dans les plus brefs délais</span>
        </div>
        {{ sessionStopMessage }}
    {% endif %}
    <div class="container">
    <h1 class="text-center">Tous les posts du site</h1>
        {% for post in posts %}
            <div class="container mt-4">
                <div class="card w-100">
                    <div class="card-body">
                        <h5 class="card-title"><a href="https://localhost/blogpost/index.php?p=post/show/{{ post.postId }}">{{ post.title }}</a></br></h5>
                        <p class="card-text">{{ post.intro }}</p>
                        <div class="card-footer text-muted">Publié le : {{ post.creationDate|date("d/m/Y \\à H:i") }}
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

{% endblock %}
{% block script %} 
    {{ parent() }}
    <script src="./public/javascript/loginAlert.js"></script>
    <script src="./public/javascript/alert.js"></script>
{% endblock %}