{% extends 'base.html.twig' %}
    {% block title %}Me contacter{% endblock %}
        
    {% block stylesheets %}       
        <link href="./vendor/twbs/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet"/>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
        <link rel="stylesheet" href="./public/css/style.css">
    {% endblock %}

    {% block content %}
        {% if session.message == "Merci pour votre message, je vous réponds dans les plus brefs délais" %}
            <div class="alert alert-success alert-dismissible fade show" role="alert" auto-close="7000">
                <span>{{ session.message}}</span>
            </div>
            {{ sessionStopMessage }}
        {% elseif session.error == "le formulaire est incomplet" %}
            <div class="alert alert-danger alert-dismissible fade show" role="alert" auto-close="3000">
            <span>{{ session.erreur}}</span>
            </div>  
            {{ sessionStop }}      
        {% endif %} 
        <div class="container">
        <h1 class="text-center">Me contacter</h1>
        
            {{ addContactForm|raw }}
        </div>
    {% endblock %}
    {% block script %}
        
        {{ parent() }}
        <script src="https://www.google.com/recaptcha/api.js?render=6LffCVkeAAAAACio48uS4w9FVzukCUL7HefA5GyD"></script>
        <script src="./public/javascript/alert.js"></script>
        <script>
        grecaptcha.ready(function() {
            grecaptcha.execute('6LffCVkeAAAAACio48uS4w9FVzukCUL7HefA5GyD', {action: 'contact'}).then(function(token) {
                document.getElementById('recaptchaResponse').value = token
            });
        });
        </script>
    {% endblock %}